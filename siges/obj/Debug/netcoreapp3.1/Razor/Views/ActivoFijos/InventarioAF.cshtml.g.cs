#pragma checksum "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\ActivoFijos\InventarioAF.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "6d97d2faa47ae94f021b3ecea790686d158580de"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_ActivoFijos_InventarioAF), @"mvc.1.0.view", @"/Views/ActivoFijos/InventarioAF.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\_ViewImports.cshtml"
using siges;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\_ViewImports.cshtml"
using siges.Areas.Identity.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\ActivoFijos\InventarioAF.cshtml"
using siges.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\ActivoFijos\InventarioAF.cshtml"
using siges.Repository;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\ActivoFijos\InventarioAF.cshtml"
using System.Collections.Generic;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"6d97d2faa47ae94f021b3ecea790686d158580de", @"/Views/ActivoFijos/InventarioAF.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"4f34ac2a518186cd6e1fad2ab593126982fe1167", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_ActivoFijos_InventarioAF : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    #nullable disable
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 4 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\ActivoFijos\InventarioAF.cshtml"
  
  ViewData["Title"] = "Inventario Activo Fijo";
  Dictionary<int,int> movimientos = ViewData["movimientos"] as Dictionary<int,int>;
  Dictionary<int,int> invAFDict = ViewData["invAFDict"] as Dictionary<int,int>;
  List<ActivoFijo> activoFijo = ViewData["activoFijo"] as List<ActivoFijo>;

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 11 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\ActivoFijos\InventarioAF.cshtml"
Write(Html.AntiForgeryToken());

#line default
#line hidden
#nullable disable
            WriteLiteral(@"

<div class=""container"">
  <div class=""row"">
    <div class=""col"">
      <h2>Inventario Activo Fijo</h2>
    </div>
    <div class=""col align-self-center text-right"">
      <a onclick=""btnAdd()"" class=""btn btn-success marg-Float float"" data-toggle=""tooltip"" data-placement=""bottom"" title=""Registrar"" data-original-title=""Tooltip on bottom""><i class=""fas fa-plus""></i></a>
    </div>
  </div>
  <div class=""row"">
    <div class=""col margBott4em"">
      <table id=""tInventarioAF"" data-toggle=""table"" data-search=""true"" data-show-columns=""false"" data-pagination=""true"" data-locale=""es-MX"" data-classes=""table table-hover"" data-page-size=""5"" data-page-list=""[5,10,25]"" data-show-footer=""true"" data-sort-name=""activoFijo"">
        <thead>
          <tr>
            <th data-field=""id"" data-visible=""false"">ID</th>
            <th data-field=""activoFijo"" data-sortable=""true"">Activo Fijo</th>
            <th data-field=""marca"" data-sortable=""true"">Marca</th>
            <th data-field=""teorico"" data-sortabl");
            WriteLiteral(@"e=""true"">Teórico</th>
            <th data-field=""fisico"" data-sortable=""true"">Físico</th>
            <th data-field=""estatus"" data-sortable=""true"">Estatus</th>
            <th class=""mobileHidden"">Acciones</th>
          </tr>
        </thead>
        <tbody>
");
#nullable restore
#line 37 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\ActivoFijos\InventarioAF.cshtml"
           if(ViewData["inventarioAF"] != null && movimientos.Count > 0){
            

#line default
#line hidden
#nullable disable
#nullable restore
#line 38 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\ActivoFijos\InventarioAF.cshtml"
             foreach (ActivoFijo af in activoFijo){

#line default
#line hidden
#nullable disable
            WriteLiteral("            <tr>\r\n              <td>");
#nullable restore
#line 40 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\ActivoFijos\InventarioAF.cshtml"
             Write(af.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n              <td>");
#nullable restore
#line 41 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\ActivoFijos\InventarioAF.cshtml"
             Write(af.Descripcion);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n              <td>");
#nullable restore
#line 42 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\ActivoFijos\InventarioAF.cshtml"
             Write(af.Marca);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n              <td>");
#nullable restore
#line 43 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\ActivoFijos\InventarioAF.cshtml"
              Write(invAFDict[af.Id] - movimientos[af.Id]);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n              <td>");
#nullable restore
#line 44 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\ActivoFijos\InventarioAF.cshtml"
             Write(invAFDict[af.Id]);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n              <td style=\"text-transform: capitalize;\">");
#nullable restore
#line 45 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\ActivoFijos\InventarioAF.cshtml"
                                                  Write(af.Estatus == true ? "Activo" : "Inactivo");

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</td>
              <td class=""mobileHidden"">
                <a class=""btn btn-success float_Table"" data-toggle=""tooltip"" data-placement=""bottom"" title=""Salidas"" data-original-title=""Tooltip on bottom""><i class=""fas fa-external-link-alt""></i></a>
              </td>
            </tr>
");
#nullable restore
#line 50 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\ActivoFijos\InventarioAF.cshtml"
            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 50 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\ActivoFijos\InventarioAF.cshtml"
             
          }

#line default
#line hidden
#nullable disable
            WriteLiteral("        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n");
            DefineSection("scripts", async() => {
                WriteLiteral("\r\n<script>\r\n  const btnAdd = () => {\r\n    let token = $(\"[name=\'__RequestVerificationToken\']\").val();\r\n    const activoFijo = ");
#nullable restore
#line 62 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\ActivoFijos\InventarioAF.cshtml"
                  Write(Html.Raw(Json.Serialize(activoFijo)));

#line default
#line hidden
#nullable disable
                WriteLiteral(@";
    Swal.fire({
      title: ""Registrar Activo Fijo"",
      confirmButtonColor: ""#67E7CF"",
      confirmButtonText:""Guardar"",
      cancelButtonText:""Cancelar"",
      reverseButtons: true,
      showCancelButton: true,
      allowOutsideClick: false,
      allowEscapeKey: false,
      showCloseButton: true,
      closeButtonHtml: '<i class=""fas fa-times""></i>',
      html:`
        <div class=""form-group text-left"">
          <label class=""control-label"" for=""slcActFijo"">Activo Fijo *</label>
          <select class=""form-control"" id=""slcActFijo"" >
            <option value=""null"" selected disabled>Selecciona Activo Fijo</option>
          </select>
        </div>
        <div class=""form-group text-left"">
            <label class=""control-label"">Cantidad *</label>
            <input id=""txtCantidad"" type=""text"" class=""form-control"" />
        </div>
        <div class=""form-group text-left"">
          <label class=""control-label"">Observaciones</label>
          <input id=""txtObserv");
                WriteLiteral(@"aciones"" type=""text"" class=""form-control""  />
        </div>
        <div class=""form-group text-right"">            
          <small>* Campos obligatorios</small>
        </div>
      `,
      onOpen: () => {
          $(""#txtCantidad"").keypress((evt) => {
              if (evt.which != 8 && evt.which != 0 && evt.which < 48 || evt.which > 57 ){
                  evt.preventDefault();
              }
          });
          $(""input[type='text']"").attr(""onkeyup"",'this.value = this.value.toUpperCase();');
      },
      onRender: ()=>{
        for (const actFijo of activoFijo) {
          $(""#slcActFijo"").append(`<option value=""${actFijo.id}"">${actFijo.descripcion}</option>`);
        }
      },
      preConfirm: () =>{
        if($(""#slcActFijo"").val() === null){
          $(""#slcActFijo"").attr(""style"", ""border-color: #f27474!important;box-shadow: 0 0 2px #f27474!important;"");
        }
        else{
          $(""#slcActFijo"").removeAttr(""style"");
        }
        if($(""#txtCantidad");
                WriteLiteral(@""").val().length === 0){
          $(""#txtCantidad"").attr(""style"", ""border-color: #f27474!important;box-shadow: 0 0 2px #f27474!important;"");
        }
        else{
          $(""#txtCantidad"").removeAttr(""style"");
        }

        if($(""#slcActFijo"").val() === null || $(""#txtCantidad"").val().length === 0){
          Swal.showValidationMessage(""Algún campo obligatorio está vacío"");
        }
      }
    }).then( result => {
      if(result.value){
        $.ajax({
          url: '");
#nullable restore
#line 127 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\ActivoFijos\InventarioAF.cshtml"
           Write(Url.Action("SaveInventarioAF","ActivoFijos"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"',
          method: ""POST"",
          data: {
            __RequestVerificationToken: token,
            invAF:{
              ActivoFijoId: $(""#slcActFijo"").val(),
              Cantidad: $(""#txtCantidad"").val(),
              Observaciones: $(""#txtObservaciones"").val()
            }
          },
          async: true,
          dataType: ""json"",
          success: function (res){
            Swal.fire({
              icon: 'success',
              title: '¡Éxito!',
              confirmButtonColor: ""#67E7CF"",
              confirmButtonText:""Aceptar"",
              text: `El Activo Fijo se registró con éxito`,
              onClose: ()=>{
                location.reload(true);
              }
            }).then((result) => {
              if (result.value) {
                location.reload(true);
              }
            });
          }
        });
      }
      else{
        Swal.close();
      }
    });
  }

  $('#tInventarioAF').on('click-row.bs.table', (row, elem");
                WriteLiteral("ent, field) => {\r\n    location.href = `${apihost}/ActivoFijos/IndexDetailInvAF?afId=${element.id}`;\r\n  });\r\n</script>\r\n");
            }
            );
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
