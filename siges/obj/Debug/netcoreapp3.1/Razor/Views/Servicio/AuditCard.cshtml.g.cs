#pragma checksum "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\Servicio\AuditCard.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "54144f95ad6a6fc4385abdbe221aee632c24fb89"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Servicio_AuditCard), @"mvc.1.0.view", @"/Views/Servicio/AuditCard.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\_ViewImports.cshtml"
using siges;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\_ViewImports.cshtml"
using siges.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\_ViewImports.cshtml"
using siges.Areas.Identity.Data;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"54144f95ad6a6fc4385abdbe221aee632c24fb89", @"/Views/Servicio/AuditCard.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"4f34ac2a518186cd6e1fad2ab593126982fe1167", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_Servicio_AuditCard : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<List<String>>
    #nullable disable
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
#nullable restore
#line 3 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\Servicio\AuditCard.cshtml"
  
    var imgSrcSitio = "";
    var imgSrcAsistencia = "";
    var imgSrcRevEquipoSeg = "";
    var comentarioNuevoEstado = "";
    var asistenciacomentario = "";
    var revequiposeguridadcomentario = "";
    ViewData["Title"] = "Ficha Auditoría";
    if(ViewData["sitio"] != null){
      var base64 = Convert.ToBase64String((byte[])ViewData["sitio"]);
      imgSrcSitio = String.Format("data:image/jpeg;base64,{0}",base64);
      comentarioNuevoEstado = (string)ViewData["comentario"];
    }
    bool customvisionuso = (bool)ViewData["customvisionuso"];
    if(customvisionuso){
      if(ViewData["revequiposeguridad"] != null){
        var base64 = Convert.ToBase64String((byte[])ViewData["revequiposeguridad"]);
        imgSrcRevEquipoSeg = String.Format("data:image/jpeg;base64,{0}",base64);
        revequiposeguridadcomentario = (string)ViewData["revequiposeguridadcomentario"];
      }
    }
    bool faceApiUso = (bool)ViewData["faceApiUso"];
    if(faceApiUso){
      if(ViewData["asistencia"] != null){
       var base64 = Convert.ToBase64String((byte[])ViewData["asistencia"]);
       imgSrcAsistencia = String.Format("data:image/jpeg;base64,{0}",base64);
       asistenciacomentario = (string)ViewData["asistenciacomentario"];
      }
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col\">\r\n            <h2>Ficha de Auditor&iacute;a</h2>\r\n        </div>\r\n        <div class=\"col align-self-center text-right\">\r\n            <a class=\"btn bg-blue marg-Float float\"");
            BeginWriteAttribute("href", " href=\'", 1558, "\'", 1603, 1);
#nullable restore
#line 40 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\Servicio\AuditCard.cshtml"
WriteAttributeValue("", 1565, Url.Action("IndexListOS", "Servicio"), 1565, 38, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" data-toggle=""tooltip"" data-placement=""bottom"" title=""Regresar"" data-original-title=""Tooltip on bottom""><i class=""fas fa-arrow-left""></i></a>
        </div>
    </div>
    <div class=""row"">
        <div class=""col"">
            <table id=""tableAuditCard"" data-toggle=""table"" data-show-columns=""false"" data-locale=""es-MX"" data-classes=""table table-hover"" data-page-size=""6"" data-show-footer=""true"">
            </table>
        </div>
    </div>
    <div class=""row justify-content-center"">
");
#nullable restore
#line 51 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\Servicio\AuditCard.cshtml"
       if(faceApiUso){

#line default
#line hidden
#nullable disable
            WriteLiteral("      <div class=\"col-md-auto\">\r\n        <div class=\"card text-center\" style=\"width: 18rem;\">\r\n          <img");
            BeginWriteAttribute("src", " src=\"", 2281, "\"", 2304, 1);
#nullable restore
#line 54 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\Servicio\AuditCard.cshtml"
WriteAttributeValue("", 2287, imgSrcAsistencia, 2287, 17, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"card-img-top rounded\" alt=\"Asistencia\">\r\n          <div class=\"card-body text-center\">\r\n            <p class=\"card-text\">");
#nullable restore
#line 56 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\Servicio\AuditCard.cshtml"
                            Write(asistenciacomentario);

#line default
#line hidden
#nullable disable
            WriteLiteral("</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n");
#nullable restore
#line 60 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\Servicio\AuditCard.cshtml"
      }

#line default
#line hidden
#nullable disable
            WriteLiteral("      <div class=\"col-md-auto\">\r\n        <div class=\"card text-center\" style=\"width: 18rem;\">\r\n          <img");
            BeginWriteAttribute("src", " src=\"", 2627, "\"", 2645, 1);
#nullable restore
#line 63 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\Servicio\AuditCard.cshtml"
WriteAttributeValue("", 2633, imgSrcSitio, 2633, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"card-img-top rounded\" alt=\"En sitio\">\r\n          <div class=\"card-body text-center\">\r\n            <p class=\"card-text\">");
#nullable restore
#line 65 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\Servicio\AuditCard.cshtml"
                            Write(comentarioNuevoEstado);

#line default
#line hidden
#nullable disable
            WriteLiteral("</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n");
#nullable restore
#line 69 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\Servicio\AuditCard.cshtml"
       if(customvisionuso){

#line default
#line hidden
#nullable disable
            WriteLiteral("      <div class=\"col-md-auto\">\r\n        <div class=\"card text-center\" style=\"width: 18rem;\">\r\n          <img");
            BeginWriteAttribute("src", " src=\"", 2987, "\"", 3012, 1);
#nullable restore
#line 72 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\Servicio\AuditCard.cshtml"
WriteAttributeValue("", 2993, imgSrcRevEquipoSeg, 2993, 19, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"card-img-top rounded\" alt=\"Revisión equipo seguridad\">\r\n          <div class=\"card-body text-center\">\r\n            <p class=\"card-text\">");
#nullable restore
#line 74 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\Servicio\AuditCard.cshtml"
                            Write(revequiposeguridadcomentario);

#line default
#line hidden
#nullable disable
            WriteLiteral("</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n");
#nullable restore
#line 78 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\Servicio\AuditCard.cshtml"
      }
      

#line default
#line hidden
#nullable disable
            WriteLiteral("    </div>\r\n</div>\r\n\r\n");
            DefineSection("scripts", async() => {
                WriteLiteral("\r\n    <script>\r\n        const Model = ");
#nullable restore
#line 85 "C:\Users\HP EliteBook 2570p\source\repos\siges\siges\Views\Servicio\AuditCard.cshtml"
                 Write(Html.Raw(Json.Serialize(Model)));

#line default
#line hidden
#nullable disable
                WriteLiteral(@";
        const Data = JSON.parse(Model[0]);

        const data = [{
            'Rubro': 'Fecha de Programación',
            'Programado': (Data.FechaDeProgramacion.InicioProgramado === null)?""Sin Captura"":Data.FechaDeProgramacion.InicioProgramado.substr(0,10),
            'Real': (Data.FechaDeProgramacion.InicioReal=== null || Data.FechaDeProgramacion.InicioReal === '')?""Sin Captura"":Data.FechaDeProgramacion.InicioReal.substr(0,10),
            'Minutos': (Data.FechaDeProgramacion.InicioReal === null)?""Sin Captura"":(Data.FechaDeProgramacion.InicioReal == Data.FechaDeProgramacion.InicioProgramado ? 'En el día' : 'Error'),
        },{
            'Rubro': 'Hora de Llegada',
            'Programado': (Data.HoraDeLlegada.Programado === null)?""Sin Captura"":(Data.HoraDeLlegada.Programado.split(':')[0] + ':' + Data.HoraDeLlegada.Programado.split(':')[1]), 
            'Real': (Data.HoraDeLlegada.Real === '')?""Sin Captura"":(Data.HoraDeLlegada.Real.split(':')[0] + ':' + Data.HoraDeLlegada.Real.split(':'");
                WriteLiteral(@")[1]), 
            'Minutos': (Data.HoraDeLlegada.Minutos === null)?""Sin Captura"":Math.round(parseInt(Data.HoraDeLlegada.Minutos), -1) + ' minutos',
        },{
            'Rubro': 'Hora de Salida',
            'Programado': (Data.HoraDeSalida.Programado === null)?""Sin Captura"":(Data.HoraDeSalida.Programado.split(':')[0] + ':' + Data.HoraDeSalida.Programado.split(':')[1]), 
            'Real': (Data.HoraDeSalida.Real === '')?""Sin Captura"":(Data.HoraDeSalida.Real.split(':')[0] + ':' + Data.HoraDeSalida.Real.split(':')[1]), 
            'Minutos': (Data.HoraDeSalida.Minutos === null)?""Sin Captura"":Math.round(parseInt(Data.HoraDeSalida.Minutos), -1) + ' minutos',
        },{
            'Rubro': 'Tiempo Laborado', 
            'Programado': (Data.TiempoLaboradoProgramado.Minutos===null?""Sin Captura"":Math.round(parseInt(Data.TiempoLaboradoProgramado.Minutos), -1)),
            'Real': (Data.TiempoLaboradoReal.Minutos===null?""Sin Captura"":Math.round(parseInt(Data.TiempoLaboradoReal.Minutos), -1)),
   ");
                WriteLiteral(@"         'Minutos': (Data.TiempoLaboradoDiff.Minutos===null?""Sin Captura"":(Math.round(parseInt(Data.TiempoLaboradoDiff.Minutos), -1)) + ' minutos'),
        },{
            'Rubro': 'Lugar',
            'Programado': (Data.Direccion === null)?""Sin Captura"":Data.Direccion,
            'Real': (Data.Lugar.Real === null || Data.Lugar.Real.Latitude.description === '')?""Sin Captura"":(Data.Lugar.Programado.Longitude.substring(0,5) + Data.Lugar.Programado.Latitude.substring(0,5)) == (Data.Lugar.Real.Longitude.description.toString().substring(0,5) + Data.Lugar.Real.Latitude.description.toString().substring(0,5))?Data.Direccion:'', 
            'Minutos': (Data.Lugar.Real === null || Data.Lugar.Real.Latitude.description === '')?""Sin Captura"":(Data.Lugar.Programado.Longitude.substring(0,5) + Data.Lugar.Programado.Latitude.substring(0,5)) == (Data.Lugar.Real.Longitude.description.toString().substring(0,5) + Data.Lugar.Real.Latitude.description.toString().substring(0,5))?'En el lugar':'Error', 
        },{
       ");
                WriteLiteral(@"     'Rubro': 'Coordenadas',
            'Programado': (Data.Lugar.Programado.Latitude === null)?""Sin Captura"":`Lat: ${Data.Lugar.Programado.Latitude} - Lon: ${Data.Lugar.Programado.Longitude}`,
            'Real': (Data.Lugar.Real === null || Data.Lugar.Real.Latitude.description === '')?""Sin Captura"":`Lat: ${Data.Lugar.Real.Latitude.description} - Lon: ${Data.Lugar.Real.Longitude.description}`, 
            'Minutos': (Data.Lugar.Real === null || Data.Lugar.Real.Latitude.description === '')?""Sin Captura"" : (parseFloat(Data.UbicacionDistancia) - parseFloat(Data.EstructuraExifBiDistancia)) < 0 ? ""Error"" : ""En el lugar"",
            //'Minutos': (Data.Lugar.Real === null || Data.Lugar.Real.Latitude.description === '')?""Sin Captura"":(Data.Lugar.Programado.Longitude.substring(0,5) + Data.Lugar.Programado.Latitude.substring(0,5)) == (Data.Lugar.Real.Longitude.description.toString().substring(0,5) + Data.Lugar.Real.Latitude.description.toString().substring(0,5))?'En el lugar':'Error',
        }]

");
                WriteLiteral(@"
        const initTable = (() =>{
            $(""#tableAuditCard"").bootstrapTable('destroy').bootstrapTable({
                data: data,
                columns: [
                    [{
                      title: 'Rubro',
                      field: 'Rubro',
                      width: 150
                    }, {
                      title: 'Programado',
                      field: 'Programado',
                      width: 350
                    }, {
                      title: 'Real',
                      field: 'Real',
                      width: 350
                    },{
                      title: 'Cálculo',
                      field: 'Minutos',
                      width: 100
                    }]
                ],
            });
        })();
    </script>
");
            }
            );
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<List<String>> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
